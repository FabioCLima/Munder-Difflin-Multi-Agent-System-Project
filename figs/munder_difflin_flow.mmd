---
config:
  theme: neo
  look: neo
---
flowchart TB
    Customer["üë§ Customer Request"] -- Text Request --> Orchestrator["üé≠ ORCHESTRATOR AGENT<br>Router &amp; Coordinator"]
    Orchestrator -- Inventory Query --> InventoryAgent["üì¶ INVENTORY AGENT<br>Stock Management"]
    Orchestrator -- Quote Request --> QuotingAgent["üí∞ QUOTING AGENT<br>Price Calculation"]
    Orchestrator -- Purchase Order --> SalesAgent["ü§ù SALES AGENT<br>Order Fulfillment"]
    InventoryAgent --> CheckInventory["üîç check_inventory_tool"] & CheckLowStock["‚ö†Ô∏è check_low_stock_tool"] & SearchItem["üîé search_item_tool"] & Orchestrator
    CheckInventory --> Database[("üóÑÔ∏è SQLite Database<br>munder_difflin.db")]
    CheckLowStock --> Database
    SearchItem --> Database
    QuotingAgent --> GetQuoteHistory["üìö get_quote_history_tool"] & CalculatePrice["üßÆ calculate_pricing_tool"] & Orchestrator
    QuotingAgent -. Validate Stock .-> InventoryAgent
    GetQuoteHistory --> Database
    CalculatePrice --> Database
    SalesAgent --> CheckDelivery["üìÖ check_delivery_timeline_tool"] & FulfillOrder["‚úÖ fulfill_order_tool"] & Orchestrator
    SalesAgent -. Validate Availability .-> InventoryAgent
    FulfillOrder --> Database
    SalesAgent -. Trigger .-> ReorderProcess["üîÑ REORDERING PROCESS<br>Auto-triggered"]
    ReorderProcess --> CheckLowStock & AddStock["üì• add_stock_tool"]
    AddStock --> Database
    Orchestrator --> Response["üì§ Response to Customer"]
    Response --> Customer
     Customer:::customerStyle
     Orchestrator:::orchestratorStyle
     InventoryAgent:::agentStyle
     QuotingAgent:::agentStyle
     SalesAgent:::agentStyle
     CheckInventory:::toolStyle
     CheckLowStock:::toolStyle
     SearchItem:::toolStyle
     Database:::dbStyle
     GetQuoteHistory:::toolStyle
     CalculatePrice:::toolStyle
     CheckDelivery:::toolStyle
     FulfillOrder:::toolStyle
     ReorderProcess:::processStyle
     AddStock:::toolStyle
     Response:::customerStyle
    classDef customerStyle fill:#e1f5ff,stroke:#01579b,stroke-width:2px
    classDef orchestratorStyle fill:#fff9c4,stroke:#f57f17,stroke-width:3px
    classDef agentStyle fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px
    classDef toolStyle fill:#ffccbc,stroke:#d84315,stroke-width:1px
    classDef dbStyle fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef processStyle fill:#b2dfdb,stroke:#00695c,stroke-width:2px,stroke-dasharray: 5 5
